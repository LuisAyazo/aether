/* Essential styles */
.diagram-container {
  width: 100%;
  height: 100%;
  position: relative;
}

/* Node styles */
.react-flow__node {
  pointer-events: auto !important;
  margin: 0 !important;
  padding: 0 !important;
}

.react-flow__node * {
  pointer-events: auto !important;
}

.react-flow__node.selected {
  box-shadow: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Edge styles */
.react-flow__edge {
  z-index: 5;
  pointer-events: all;
}

.react-flow__edge.selected {

/* Dropdown de selección de diagramas */
.diagram-select-dropdown .ant-select-item-group {
  padding: 0 !important; 
  margin: 2px 0;
}

.diagram-select-dropdown .ant-select-item-group:not(:first-child) {
  margin-top: 8px;
}

.diagram-select-dropdown .ant-select-item-option {
  padding: 6px 12px !important;
  transition: all 0.2s;
}

.diagram-select-dropdown .ant-select-item-option-grouped {
  padding-left: 16px !important;
}

.diagram-select-dropdown .ant-select-item-option-disabled {
  cursor: default !important;
  color: inherit !important;
}

.diagram-select-dropdown .ant-select-item-option-disabled:hover {
  background: transparent !important;
}

/* Estilo general mejorado para el dropdown */
.diagram-select-dropdown {
  border-radius: 8px !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1) !important;
  border: 1px solid #e2e8f0 !important;
  overflow: hidden;
}

/* Estilo para los grupos principales (directorios) */
.diagram-select-dropdown .ant-select-item-group .ant-select-item-option-content div[class*="bg-gray-50"] {
  background-color: #f8fafc !important;
  border-left: 3px solid #f97316 !important;
}

/* Estilo para los subdirectorios */
.diagram-select-dropdown .ant-select-item-group .ant-select-item-option-content div:has(> span.text-gray-400) {
  border-left: 3px solid #facc15 !important;
}

/* Estilo para la opción seleccionada */
.diagram-select-dropdown .ant-select-item-option-selected:not(.ant-select-item-option-disabled) {
  background-color: #e0f2fe !important;
  color: #0369a1 !important;
}

/* Estilos para mejorar la visualización de la jerarquía */
.diagram-select-dropdown .ant-select-item-option-content {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Estilo para los separadores entre grupos */
.diagram-select-dropdown .ant-select-item-option-content div[class*="border-t"] {
  border-top-color: #f0f0f0 !important;
}

/* Estilo para el hover de las opciones */
.diagram-select-dropdown .ant-select-item-option:not(.ant-select-item-option-disabled):hover {
  background-color: #f5f5f5;
}

/* Estilo para la opción seleccionada */
.diagram-select-dropdown .ant-select-item-option-selected:not(.ant-select-item-option-disabled) {
  background-color: #e6f7ff;
  font-weight: normal;
}

/* Mejorar la visualización de directorios anidados */
.diagram-select-dropdown .ant-select-item-group .ant-select-item-option-grouped {
  padding-left: 24px !important;
}
  z-index: 6;
}

.react-flow__edge-path {
  stroke-width: 2 !important;
}

/* Handle styles */
.react-flow__handle {
  width: 8px !important;
  height: 8px !important;
  border-radius: 50% !important;
  border: 2px solid white !important;
  background-color: currentColor !important;
  z-index: 3 !important;
  pointer-events: auto !important;
}

/* Group node styles - override React Flow defaults */
.react-flow__node-group {
  box-shadow: none !important;
  border: none !important;
  padding: 0 !important;
}

.react-flow__node-group.selectable {
  box-shadow: none !important;
}

.react-flow__node-group.selectable.selected,
.react-flow__node-group.selectable:focus,
.react-flow__node-group.selectable:focus-visible {
  box-shadow: none !important;
  outline: none !important;
}

/* Cursor styles removed - no longer needed */

.react-flow__selectionpane {
  cursor: crosshair !important;
}

/* Selection styles */
.react-flow__selection {
  background: rgba(0, 89, 220, 0.08);
  border: 1px dashed rgba(0, 89, 220, 0.8);
}

/* Node interaction styles */
.node-double-clickable {
  cursor: pointer;
  pointer-events: auto !important;
}

.node-double-clickable:hover {
  animation: pulseHint 2s infinite;
}

@keyframes pulseHint {
  0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.3); }
  70% { box-shadow: 0 0 0 8px rgba(59, 130, 246, 0); }
  100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
}

/* Context menu styles */
.context-menu {
  position: fixed;
  z-index: 1000;
  background: white;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  padding: 0;
  min-width: 180px;
  overflow: hidden;
}

.context-menu-item {
  padding: 10px 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #333;
  border-bottom: 1px solid #eee;
  transition: background-color 0.2s;
}

.context-menu-item:hover {
  background-color: #f5f5f5;
}

.context-menu-item.danger {
  color: #ff3333;
}

.context-menu-item.danger:hover {
  background-color: #fff0f0;
}

/* Lasso selection styles */
.lasso-selection-mode .react-flow__pane {
  cursor: crosshair !important;
}

.lasso-selection-mode .react-flow__node {
  pointer-events: auto !important;
}

/* Multi-selection styles */
.multi-selection-mode .react-flow__pane {
  cursor: crosshair !important;
}

.multi-selection-mode .react-flow__node {
  pointer-events: auto !important;
}
